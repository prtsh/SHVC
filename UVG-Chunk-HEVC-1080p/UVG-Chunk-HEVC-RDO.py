import matplotlib.pyplot as plt
import random, copy
import math
SMALL_SIZE = 6
MEDIUM_SIZE = 8
BIGGER_SIZE = 12
plt.rc('font', size=SMALL_SIZE)          # controls default text sizes
plt.rc('axes', titlesize=SMALL_SIZE)     # fontsize of the axes title
plt.rc('axes', labelsize=SMALL_SIZE)    # fontsize of the x and y labels
plt.rc('xtick', labelsize=SMALL_SIZE)    # fontsize of the tick labels
plt.rc('ytick', labelsize=SMALL_SIZE)    # fontsize of the tick labels
plt.rc('legend', fontsize=SMALL_SIZE)    # legend fontsize
plt.rc('figure', titlesize=SMALL_SIZE)  # fontsize of the figure title
plt.rcParams['figure.dpi'] = 125


video_index = {0 : "HoneyBee_1920x1080",
               1 : "Beauty_1920x1080",
               2 : "Bosphorus_1920x1080",
               3 : "Jockey_1920x1080",
               4 : "ReadySteadyGo_1920x1080",
               5 : "YachtRide_1920x1080",
               6 : "ShakeNDry_1920x1080",}


#***************************************

#HoneyBee_1920x1080

#***************************************

bitrate_0 = [[68.024, 110.708, 157.36, 224.384, 285.668, 377.432, 519.664, 692.84, 1031.58], 
           [67.888, 109.432, 154.672, 221.0, 281.036, 368.548, 504.5, 669.916, 1001.824], 
           [67.016, 107.84, 152.176, 213.84, 270.272, 353.44, 481.536, 636.132, 950.144], 
           [66.86, 108.036, 152.3, 213.788, 270.112, 353.584, 481.16, 634.14, 942.36], 
           [66.86, 108.872, 153.712, 216.192, 272.688, 356.008, 487.74, 642.436, 953.284], 
           [67.252, 108.68, 153.764, 216.652, 273.8, 356.868, 489.06, 643.804, 953.584], 
           [67.088, 108.524, 153.196, 216.372, 274.516, 359.092, 489.8, 646.136, 955.328], 
           [66.936, 110.188, 155.98, 220.464, 280.06, 366.58, 500.62, 663.668, 981.24], 
           [67.472, 109.992, 155.24, 219.316, 276.92, 364.912, 501.82, 672.496, 1005.612], 
           [67.524, 109.176, 154.696, 217.868, 276.592, 364.44, 497.484, 662.812, 985.216]]
psnr_0 =  [[31.1973, 33.4797, 35.1967, 37.3353, 38.8002, 40.0038, 40.9932, 41.7466, 42.3632], 
         [31.2359, 33.5383, 35.2308, 37.4154, 38.825, 40.0202, 41.0241, 41.7529, 42.3705], 
         [31.2902, 33.6191, 35.3357, 37.4592, 38.9146, 40.0862, 41.0746, 41.7951, 42.3894], 
         [31.3135, 33.6498, 35.3234, 37.4461, 38.9265, 40.1048, 41.0836, 41.7991, 42.3935], 
         [31.2422, 33.5736, 35.2832, 37.4321, 38.8608, 40.0331, 41.0595, 41.7886, 42.3755], 
         [31.2511, 33.5592, 35.2696, 37.4352, 38.855, 40.0537, 41.0583, 41.7892, 42.3753], 
         [31.233, 33.5591, 35.2457, 37.4055, 38.8636, 40.063, 41.0581, 41.7923, 42.3664], 
         [31.1493, 33.5344, 35.2208, 37.4005, 38.8436, 40.0315, 41.0284, 41.7682, 42.3649], 
         [31.2046, 33.597, 35.2553, 37.3949, 38.8278, 40.0002, 40.991, 41.7448, 42.3607],
         [31.2869, 33.6291, 35.3566, 37.4859, 38.9102, 40.1003, 41.0775, 41.8048, 42.3979]] 
 
 
#***************************************

#Beauty_1920x1080

#***************************************
bitrate_1 = [[37.224, 64.424, 101.956, 183.304, 287.872, 454.04, 754.176, 1356.852, 3063.364], 
           [41.964, 72.608, 110.532, 191.428, 289.184, 442.1, 709.072, 1246.352, 2764.628], 
           [40.548, 68.584, 105.896, 182.688, 273.612, 411.32, 649.924, 1127.056, 2548.468],
           [47.384, 77.656, 116.036, 196.792, 290.336, 432.952, 679.876, 1175.644, 2607.892], 
           [43.692, 73.372, 112.22, 192.708, 294.084, 448.488, 720.3, 1264.724, 2808.032], 
           [45.692, 76.388, 113.58, 193.36, 288.4, 438.324, 696.772, 1209.196, 2677.688], 
           [44.976, 75.188, 114.776, 195.848, 296.532, 454.824, 725.592, 1266.336, 2751.964],
           [48.076, 80.912, 121.544, 206.12, 307.264, 466.308, 733.844, 1260.708, 2742.724], 
           [42.292, 71.776, 107.92, 186.884, 279.192, 423.576, 674.028, 1171.048, 2637.992], 
           [42.544, 70.152, 106.096, 182.06, 273.18, 412.628, 648.084, 1129.208, 2553.376]]
psnr_1 = [[32.3183, 33.7833, 34.7901, 35.9746, 36.7675, 37.4758, 38.1333, 38.69, 39.2111], 
        [32.3305, 33.9699, 35.0669, 36.3269, 37.1551, 37.8539, 38.4821, 38.9981, 39.4458],
        [32.6194, 34.2163, 35.3337, 36.5975, 37.4066, 38.0656, 38.6441, 39.1015, 39.4963],
        [32.4062, 34.087, 35.2427, 36.5322, 37.3563, 38.0505, 38.6499, 39.1288, 39.542], 
        [32.1432, 33.7328, 34.8615, 36.1663, 37.0395, 37.7733, 38.4285, 38.965, 39.4246], 
        [32.1459, 33.8256, 34.9993, 36.3056, 37.1697, 37.9093, 38.5529, 39.0795, 39.5258], 
        [32.0753, 33.7395, 34.8739, 36.1886, 37.0805, 37.8457, 38.5286, 39.0919, 39.568], 
        [32.0263, 33.7184, 34.8665, 36.2004, 37.0814, 37.836, 38.5094, 39.0514, 39.5214], 
        [32.3118, 33.9405, 35.0287, 36.2947, 37.1426, 37.8614, 38.5054, 39.0129, 39.4554], 
        [32.4494, 34.0547, 35.1498, 36.4186, 37.2518, 37.9545, 38.5634, 39.048, 39.4691]]

#***************************************

#Bosphorus_1920x1080

#***************************************


bitrate_2 = [[37.272, 68.592, 110.34, 199.256, 308.744, 485.08, 790.448, 1288.04, 2190.084], 
           [37.356, 67.84, 110.088, 197.684, 307.184, 483.84, 793.224, 1300.4, 2211.224], 
           [36.572, 67.028, 108.424, 197.476, 305.956, 480.036, 791.332, 1294.916, 2195.62],
           [36.184, 67.044, 108.68, 195.78, 305.164, 477.296, 781.26, 1280.38, 2165.356],
           [36.96, 68.828, 109.456, 198.864, 308.464, 483.94, 786.22, 1280.316, 2150.472],
           [35.808, 67.46, 108.016, 196.408, 306.04, 476.724, 779.832, 1272.316, 2129.232],
           [35.396, 66.628, 106.428, 192.508, 302.348, 469.024, 768.256, 1251.68, 2096.408],
           [36.696, 67.724, 107.192, 193.284, 301.456, 470.736, 771.444, 1256.548, 2108.244],
           [36.892, 69.312, 109.956, 198.164, 308.772, 485.656, 790.468, 1289.632, 2151.832],
           [38.024, 69.884, 111.608, 199.736, 307.924, 481.68, 784.524, 1271.8, 2121.552]]
psnr_2 = [[30.659, 32.4374, 33.7382, 35.5162, 36.829, 38.1518, 39.573, 41.022, 42.5152], 
        [30.7652, 32.418, 33.7516, 35.513, 36.8475, 38.1665, 39.604, 41.0648, 42.5655], 
        [30.844, 32.5061, 33.8274, 35.5786, 36.9166, 38.2135, 39.6605, 41.1257, 42.6315],
        [30.8145, 32.5113, 33.8738, 35.6376, 36.9818, 38.3154, 39.7605, 41.2365, 42.7316],
        [30.9239, 32.6756, 33.9855, 35.7618, 37.0942, 38.4596, 39.9228, 41.4031, 42.9074],
        [31.0032, 32.772, 34.0426, 35.8066, 37.187, 38.5055, 39.9751, 41.4634, 42.9578],
        [31.1619, 32.8565, 34.1449, 35.8922, 37.2381, 38.5754, 40.0341, 41.498, 42.973],
        [31.1283, 32.826, 34.1317, 35.8654, 37.2363, 38.5599, 40.0122, 41.481, 42.9537],
        [31.0319, 32.8191, 34.0769, 35.8267, 37.1874, 38.5249, 39.9766, 41.4647, 42.9294],
        [31.0749, 32.7874, 34.0727, 35.8568, 37.2274, 38.5969, 40.0724, 41.5544, 43.0311]]


#***************************************

#Jockey_1920x1080

#***************************************

bitrate_3 = [[86.188, 128.48, 183.956, 288.384, 400.016, 553.332, 809.856, 1181.452, 1776.144],
           [96.532, 152.044, 207.94, 310.808, 427.976, 603.128, 870.224, 1267.216, 1934.64],
           [117.556, 174.744, 249.968, 390.488, 514.272, 696.576, 965.576, 1415.12, 2112.62],
           [120.128, 192.28, 269.368, 397.588, 533.372, 727.584, 1012.016, 1441.224, 2146.828],
           [132.096, 211.612, 295.5, 450.88, 599.776, 824.22, 1167.056, 1684.48, 2523.28],
           [149.456, 240.804, 341.908, 536.068, 726.272, 968.392, 1390.136, 1998.308, 2971.6],
           [74.944, 121.628, 180.428, 295.684, 409.804, 566.292, 826.516, 1194.644, 1799.316],
           [59.46, 97.432, 145.36, 245.128, 348.696, 482.68, 679.664, 985.068, 1475.468], 
           [61.612, 100.652, 148.936, 239.508, 339.996, 476.652, 686.532, 976.384, 1491.396], 
           [79.636, 126.284, 182.528, 295.104, 406.592, 563.804, 777.964, 1145.7, 1745.816]]
psnr_3 = [[30.7003, 32.8282, 34.415, 36.4511, 37.9225, 39.2924, 40.6344, 41.7981, 42.7787], 
         [30.5786, 32.7209, 34.3075, 36.3876, 37.8709, 39.2295, 40.5966, 41.7612, 42.7453],
         [30.4038, 32.7613, 34.3888, 36.5715, 38.1121, 39.5373, 40.8317, 42.0167, 42.9573],
         [30.3594, 32.761, 34.4841, 36.7043, 38.265, 39.6928, 41.0747, 42.2395, 43.1717],
         [30.1097, 32.4689, 34.1932, 36.3614, 37.8558, 39.2328, 40.5735, 41.7332, 42.6824],
         [29.9618, 32.3296, 34.0544, 36.1817, 37.658, 39.0304, 40.345, 41.4978, 42.4253],
         [32.0156, 33.881, 35.3796, 37.5284, 38.9454, 40.1225, 41.2082, 42.1023, 42.7738], 
         [32.5712, 34.4438, 35.9659, 38.0936, 39.4997, 40.6733, 41.737, 42.5577, 43.1356], 
         [32.4377, 34.2761, 35.9046, 37.8906, 39.2762, 40.4529, 41.5457, 42.4064, 43.0166],
         [31.4269, 33.5393, 35.0793, 37.1206, 38.5652, 39.8372, 41.052, 42.0221, 42.7665]]

#***************************************

#ReadySteadyGo_1920x1080

#***************************************

bitrate_4 = [[116.456, 213.236, 327.752, 552.484, 796.04, 1141.124, 1676.828, 2452.724, 3640.432],
           [128.26, 228.716, 350.136, 583.404, 829.964, 1176.032, 1717.64, 2503.272, 3688.264],
           [141.736, 250.492, 384.676, 630.372, 889.968, 1256.872, 1818.292, 2652.508, 3908.588],
           [166.596, 294.912, 443.12, 727.904, 1037.476, 1462.728, 2113.144, 3078.36, 4551.456],
           [173.72, 312.544, 473.696, 779.6, 1117.244, 1565.136, 2249.044, 3277.804, 4803.288], 
           [190.496, 343.332, 529.088, 880.244, 1212.68, 1710.892, 2481.464, 3722.8, 5310.056], 
           [212.608, 374.92, 607.308, 952.972, 1422.052, 1903.444, 2750.892, 4002.016, 5882.54],
           [218.064, 386.02, 584.56, 968.36, 1356.208, 1910.116, 2784.82, 4046.404, 5974.404], 
           [188.344, 324.204, 503.284, 827.824, 1180.08, 1653.812, 2407.376, 3494.224, 5151.628],
           [166.088, 289.692, 440.86, 721.936, 1023.468, 1448.356, 2092.692, 3025.7, 4468.232]]
psnr_4 = [[27.1916, 29.3781, 31.0159, 33.2498, 34.9887, 36.7068, 38.5043, 40.239, 41.8767],
           [27.5484, 29.7451, 31.4495, 33.6885, 35.4169, 37.1181, 38.9361, 40.6947, 42.3279], 
           [27.8641, 30.0735, 31.7731, 34.0704, 35.7966, 37.5158, 39.3239, 41.1124, 42.7675],
           [27.7893, 30.02, 31.7213, 34.0104, 35.7386, 37.4649, 39.3007, 41.1518, 42.8932],
           [27.6326, 29.8524, 31.5458, 33.8489, 35.603, 37.3573, 39.2418, 41.1168, 42.899],
           [26.8997, 29.0753, 30.8194, 33.1526, 34.9235, 36.7055, 38.6127, 40.5622, 42.3677],
           [26.4537, 28.6765, 30.3859, 32.7398, 34.5682, 36.3109, 38.2468, 40.2014, 42.095],
           [26.3286, 28.5375, 30.2229, 32.5806, 34.3671, 36.1615, 38.1229, 40.0899, 42.0134], 
           [26.1299, 28.3474, 30.0789, 32.4055, 34.2275, 36.0208, 37.9635, 39.8829, 41.7644], 
           [25.9075, 28.02, 29.6848, 31.9351, 33.7147, 35.4848, 37.3575, 39.2263, 41.0893]]


#***************************************

#YachtRide_1920x1080

#***************************************
bitrate_5 = [[75.872, 155.22, 271.376, 547.132, 909.192, 1491.104, 2482.088, 4081.26, 6632.58], 
           [83.208, 172.544, 293.568, 589.04, 970.532, 1572.584, 2580.568, 4153.932, 6597.72],
           [84.452, 172.572, 300.324, 588.992, 955.94, 1536.664, 2496.352, 4014.732, 6369.4],
           [91.436, 186.56, 319.192, 632.768, 1035.716, 1671.42, 2756.768, 4506.512, 7229.092],
           [87.008, 183.008, 322.38, 649.996, 1079.62, 1751.372, 2889.868, 4722.844, 7556.62], 
           [82.976, 180.476, 320.34, 655.428, 1090.672, 1777.212, 2935.976, 4793.148, 7633.236],
           [83.16, 179.548, 321.416, 675.588, 1152.124, 1939.556, 3306.892, 5509.392, 8892.676],
           [78.776, 174.284, 321.964, 694.628, 1215.196, 2093.144, 3620.96, 6088.724, 9868.404],
           [74.696, 166.8, 308.416, 680.252, 1189.192, 2060.784, 3576.736, 6021.44, 9790.456],
           [62.444, 149.164, 291.144, 668.124, 1201.572, 2131.648, 3774.928, 6423.86, 10491.284]]
psnr_5 = [[27.8401, 29.3899, 30.6419, 32.4444, 33.9204, 35.4987, 37.3198, 39.2736, 41.3109],
        [27.7217, 29.3045, 30.5843, 32.4307, 33.9395, 35.5873, 37.4799, 39.4898, 41.5503],
        [27.6628, 29.3376, 30.6676, 32.5588, 34.0952, 35.7486, 37.6249, 39.6261, 41.6646],
        [27.49, 29.0789, 30.3719, 32.2287, 33.7343, 35.3361, 37.2033, 39.2374, 41.312],
        [27.5565, 29.0899, 30.3327, 32.132, 33.6344, 35.2482, 37.1228, 39.1663, 41.2558], 
        [27.6537, 29.1145, 30.3122, 32.1195, 33.6034, 35.2065, 37.0852, 39.1493, 41.2433],
        [27.3717, 28.7731, 29.9244, 31.6058, 33.0298, 34.6099, 36.4834, 38.5635, 40.7007], 
        [27.3458, 28.6073, 29.6831, 31.2749, 32.6656, 34.2327, 36.1036, 38.1931, 40.3441],
        [27.5248, 28.7475, 29.7786, 31.3756, 32.7509, 34.3156, 36.1828, 38.271, 40.4309], 
        [27.4291, 28.5399, 29.5245, 31.0709, 32.4152, 33.9819, 35.8855, 38.0096, 40.2101]]


#***************************************

#ShakeNDry_1920x1080

#***************************************
bitrate_6 = [[64.06, 127.748, 218.284, 448.344, 826.704, 1619.3, 3133.268, 5590.432, 9234.436],
           [61.976, 119.508, 198.496, 386.252, 681.964, 1307.332, 2647.472, 4968.316, 8540.44],
           [63.076, 117.492, 185.644, 319.32, 491.188, 793.624, 1417.56, 2591.784, 4704.74],
           [71.88, 130.712, 202.172, 336.308, 482.68, 699.372, 1055.312, 1612.872, 2610.408],
           [63.244, 116.024, 180.256, 293.58, 415.132, 592.632, 877.064, 1298.304, 2049.176]];
psnr_6 = [ [27.9279, 29.448, 30.5495, 31.8986, 33.0313, 34.4299, 36.1952, 38.1146, 39.9941],
        [28.169, 29.7964, 30.9563, 32.3795, 33.4411, 34.6442, 36.2726, 38.1367, 39.9982],
        [28.5805, 30.5022, 31.9568, 33.8269, 35.1646, 36.387, 37.713, 39.13, 40.5898],
        [28.7798, 30.844, 32.4392, 34.5984, 36.1674, 37.5857, 38.9516, 40.1947, 41.3499],
        [28.8058, 30.923, 32.6557, 34.8932, 36.4997, 37.9768, 39.3377, 40.5097, 41.5878]];

  
for idx in range(7):
  bitrate = copy.deepcopy((globals()["bitrate_" + str(idx)]))
  psnr = copy.deepcopy((globals()["psnr_" + str(idx)]))
  rows = math.ceil(len(bitrate)/3.0)
  #print(bitrate, "\n", psnr)
  cols = 3
  fig, axs = plt.subplots(rows, cols, constrained_layout = False)
  plt.subplots_adjust(left=0.1,
                    bottom=0.1, 
                    right=0.9, 
                    top=0.9, 
                    wspace=0.1, 
                    hspace=0.4)
  for i in range(rows):
    for j in range(cols):
        if (i*3 + j < len(bitrate)):
          r = random.random()
          b = random.random()
          g = random.random()
          color = (r, g, b)   
          axs[i, j].plot(bitrate[i*3 + j], psnr[i*3 + j], c=color)
          axs[i, j].set_title('Chunk-' + str(i*3 + j), fontsize=SMALL_SIZE)
          axs[i, j].tick_params(axis='x', labelsize=SMALL_SIZE)
          axs[i, j].tick_params(axis='y', labelsize=SMALL_SIZE)
          plt.grid(True)
          plt.ylim(25.0, 50.0)
          
  # delete empty subplots
  for i in range(3 - rows % 3):
      fig.delaxes(axs[rows - 1][2 - i])

  fig.text(0.5, 0.04, 'bitrate(kbps)', ha='center', fontsize=SMALL_SIZE)
  fig.text(0.04, 0.5, 'psnr(dB)', va='center', rotation='vertical', fontsize=SMALL_SIZE)

  # Hide x labels and tick labels for top plots and y ticks for right plots.
  for ax in axs.flat:
      ax.label_outer()

  fig.suptitle("{}, HEVC, Test Model".format(video_index[idx]), y=0.98, fontsize=MEDIUM_SIZE)
  plt.show()